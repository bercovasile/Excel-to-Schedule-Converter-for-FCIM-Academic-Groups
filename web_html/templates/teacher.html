<!DOCTYPE html>
<html lang="en">
<head>
<title>CSS Template</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
}

/* Style the header */
header {
  background-color: #666;
  padding: 30px;
  text-align: center;
  font-size: 35px;
  color: white;

}

/* Container for flexboxes */
section {
  display: -webkit-flex;
  display: flex;
}

/* Style the navigation menu */


/* Style the footer */
footer {
  background-color: #777;
  padding: 10px;
  text-align: center;
  color: white;
}
/* Responsive layout - makes the menu and the content (inside the section) sit on top of each other instead of next to each other */
@media (max-width: 600px) {
  section {
    -webkit-flex-direction: column;
    flex-direction: column;
  }
}
</style>



</head>
<body>

<header>
  <section>
    <label for="selectOptions">Select an option:</label>
    <select id="selectOptions" onchange="sendSelectedOption()">test </select>
  </section>

</header>

<aside>
  asdfsrfsdf 
  <div id="excel_data" class="mt-5"></div>
  <table id="display_excel_data" border="1"></table>
</aside>

<footer>
  <p>Footer</p>
</footer>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Obțineți referința către elementul <select>
    const selectOptions = document.getElementById("selectOptions");

    // Funcție pentru a completa combobox-ul cu opțiunile din backend
    function populateComboBox() {
      fetch("/get_options_teacher") // Înlocuiți "/get_options" cu ruta corespunzătoare în backend
        .then(response => response.json())
        .then(data => {
          // Ștergeți orice opțiuni existente
          while (selectOptions.firstChild) {
            selectOptions.removeChild(selectOptions.firstChild);
          }

          // Iterați prin opțiuni și adăugați-le în combobox
          data.options.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.textContent = option;
            optionElement.value = option;
            selectOptions.appendChild(optionElement);
          });
        })
        .catch(error => {
          console.error("Error fetching options:", error);
        });
    }
    // Apelați funcția pentru a completa combobox-ul la încărcarea paginii
    populateComboBox();
  });

  function sendSelectedOption() {
      const selectOptions = document.getElementById("selectOptions");
      const selectedOption = selectOptions.value; // Obțineți valoarea opțiunii selectate

      // Trimiteți opțiunea aleasă către backend folosind o cerere AJAX
      fetch("/handle_selected_option", {
        method: "POST", // sau "GET" în funcție de necesități
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ selectedOption }),
      })
        .then(response => response.blob())
        .then(data => {
          // Afișați răspunsul de la backend în div-ul selectedOptionDisplay
          const selectedOptionDisplay = document.getElementById("selectedOptionDisplay");
          selectedOptionDisplay.textContent = data.message;
        })
        .catch(error => {
          console.error("Error sending selected option:", error);
        });
    }
</script>
</body>
</html>

